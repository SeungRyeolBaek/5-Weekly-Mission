const t=["♠","♥","♦","♣"],e=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];function n(){let n=[];for(let r=0;r<e.length;r++)for(let l=0;l<t.length;l++){let c=parseInt(e[r]);("J"==e[r]||"Q"==e[r]||"K"==e[r])&&(c=10),"A"==e[r]&&(c=11);var o={Value:e[r],Suit:t[l],Weight:c};for(let t=0;t<6;t++)n.push(o)}return n=function(t){let e=[...t];for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}(n),alert("셔플하겠습니다"),n}const o=document.querySelector(".play-button"),r=document.querySelector(".player-card-list"),l=document.querySelector(".dealer-card-list"),c=document.querySelector(".player-score"),a=document.querySelector(".dealer-score"),i=document.querySelector(".balance"),d=document.querySelector(".current-bet");document.querySelector(".play-button").addEventListener("click",function(){s=n(),o.classList.add("hidden"),document.querySelector(".blackjack-start").classList.toggle("hidden"),document.querySelector(".bet-controller").classList.toggle("hidden")}),document.querySelector(".blackjack-start").addEventListener("click",function(){var t;document.querySelector(".blackjack-start").classList.toggle("hidden"),document.querySelector(".bet-controller").classList.toggle("hidden"),document.querySelector(".game-controller").classList.toggle("hidden"),document.querySelector(".player-card-display").classList.toggle("hidden"),s.length<50&&(s=n()),C(u,r,c),p(c,u),C(u,r,c),p(c,u),C(m,l,a),p(a,m),(t=u)[0].Weight+t[1].Weight===21&&setTimeout(I,500)}),document.getElementById("stay").addEventListener("click",y),document.getElementById("hit").addEventListener("click",g),document.querySelector("#plus-5").addEventListener("click",S),document.querySelector("#plus-50").addEventListener("click",S),document.querySelector("#plus-500").addEventListener("click",S),document.querySelector("#minus-5").addEventListener("click",q),document.querySelector("#minus-5").addEventListener("click",q),document.querySelector("#minus-5").addEventListener("click",q),document.querySelector(".restart-button").addEventListener("click",function(){document.querySelector(".bet-controller").classList.toggle("hidden"),document.querySelector(".blackjack-start").classList.toggle("hidden"),document.querySelector(".restart-button").classList.toggle("hidden")}),document.querySelector("#double").addEventListener("click",function(){let t=parseInt(d.textContent),e=parseInt(i.textContent);if(t>e){alert("돈이 부족한데요?");return}e-=t,t*=2,g(),d.textContent=t,i.textContent=e,y()}),document.querySelector("#hogu").addEventListener("click",function(){let t=parseInt(i.textContent);t+=500,i.textContent=t,alert("도박중독 전문상담 국번없이 1336")});let s=[],u=[],m=[];function C(t,e,n){let o,r,l,c=s.pop();if(parseInt(c.Weight)+parseInt(n.textContent)>21){let e=t.find(t=>"A"===t.Value&&11===t.Weight);e&&(e.Weight=1),e||11!=c.Weight||(c.Weight=1)}t.push(c),console.log("rendercard"),e.appendChild(((o=document.createElement("div")).className="card",(r=document.createElement("div")).textContent=c.Suit,o.appendChild(r),(l=document.createElement("div")).textContent=c.Value,o.appendChild(l),("♦"===c.Suit||"♥"===c.Suit)&&o.classList.add("red-suit"),o))}function p(t,e){let n=0;for(card of e)n+=card.Weight;t.textContent=n}function g(){C(u,r,c),p(c,u),parseInt(c.textContent)>21&&setTimeout(x,1e3)}async function y(){async function t(){parseInt(a.textContent)>=17||parseInt(c.textContent)>21||(C(m,l,a),p(a,m),await new Promise(t=>setTimeout(t,1e3)),await t())}await t(),function(){if(parseInt(c.textContent)>21&&setTimeout(x,1e3),parseInt(a.textContent)>21||parseInt(a.textContent)<parseInt(c.textContent)){setTimeout(h,100);return}if(parseInt(a.textContent)===parseInt(c.textContent)){let t,e;t=parseInt(d.textContent),e=parseInt(i.textContent)+t,i.textContent=e,alert("놀라셨나요?"),f();return}setTimeout(x,100)}()}function h(){console.log("playerwin");let t=parseInt(d.textContent),e=parseInt(i.textContent);e+=2*t,i.textContent=e,alert("운이 좋군요?"),f()}function x(){console.log("dealerwin"),alert("블랙잭은 '실력게임' 입니다"),f()}function f(){for(document.querySelector(".game-controller").classList.toggle("hidden"),document.querySelector(".player-card-display").classList.toggle("hidden"),document.querySelector(".restart-button").classList.toggle("hidden"),d.textContent=0,c.textContent=0,a.textContent=0;r.firstChild;)r.removeChild(r.firstChild);for(;l.firstChild;)l.removeChild(l.firstChild);u=[],m=[]}function S(t){let e=t.target,n=parseInt(i.textContent),o=parseInt(e.textContent.replace("+","")),r=parseInt(d.textContent);if(n<o){alert("산와 산와 산와머니~");return}n-=o,r+=o,i.textContent=n,d.textContent=r}function q(t){let e=t.target,n=parseInt(i.textContent),o=parseInt(e.textContent),r=parseInt(d.textContent);if(o+r<0){alert("쫄?");return}n-=o,r+=o,i.textContent=n,d.textContent=r}function I(){console.log("playerblack");let t=parseInt(d.textContent),e=parseInt(i.textContent);e+=2.5*t,i.textContent=e,alert("NICE BLACKJACK..."),f()}
//# sourceMappingURL=folder.dc011abb.js.map
